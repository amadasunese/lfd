{% extends "base.html" %}

{% block content %}
<!-- Premium Hero Section -->
<!-- <section class="premium-hero py-6 py-lg-8">
    <div class="container">
        <div class="row align-items-center min-vh-80">
            <div class="col-lg-6 mb-5 mb-lg-0">
                <div class="hero-content text-center">
                    <div class="section-label mb-3">PREMIUM DINING EXPERIENCE</div>
                    <h1 class="hero-title mb-4 text-center">Lauracious Foodies Delight</h1>
                    <h4 class="feature-title mb-3">Where food speaks with your palate</h4>
                    <p class="hero-subtitle mb-5">We make small chops and finger foods. Contact us for your soup/stew bowls and food boxes/trays</p>
                    <div class="d-flex flex-column flex-sm-row gap-3">
                        <a href="{{ url_for('menu.menu') }}" class="btn btn-primary btn-lg px-5 py-3">Order Now</a>
                        <a href="#featured-dishes" class="btn btn-outline-primary btn-lg px-5 py-3">View Menu</a>
                    </div>
                    <div class="hero-stats mt-5 pt-4">
                        <div class="row">
                            <div class="col-4">
                                <div class="stat-item">
                                    <div class="stat-number">500+</div>
                                    <div class="stat-label">Happy Customers</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <div class="stat-number">50+</div>
                                    <div class="stat-label">Menu Items</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <div class="stat-number">15min</div>
                                    <div class="stat-label">Avg. Delivery</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="hero-image-container">
                    <div class="hero-main-image">
                        <img src="{{ url_for('static', filename='images/food3.jpg') }}" alt="Gourmet Dish" class="img-fluid">
                    </div>
                    <div class="hero-decoration">
                        <div class="decoration-circle decoration-circle-1"></div>
                        <div class="decoration-circle decoration-circle-2"></div>
                        <div class="decoration-element"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section> -->

<section class="premium-hero py-6 py-lg-8">
    <div class="container">
        <div class="row align-items-center min-vh-80">
            <div class="col-lg-6 mb-5 mb-lg-0">
                <div class="hero-content text-center">
                    <div class="section-label mb-3">PREMIUM DINING EXPERIENCE</div>
                    <h1 class="hero-title mb-4 text-center">Lauracious Foodies Delight</h1>
                    <h4 class="feature-title mb-3">Where food speaks with your palate</h4>
                    <p class="hero-subtitle mb-5">We make small chops and finger foods. Contact us for your soup/stew bowls and food boxes/trays</p>
                    <div class="d-flex flex-column flex-sm-row gap-3">
                        <a href="{{ url_for('menu.menu') }}" class="btn btn-primary btn-lg px-5 py-3">Order Now</a>
                        <a href="#featured-dishes" class="btn btn-outline-primary btn-lg px-5 py-3">View Menu</a>
                    </div>

                    <div class="hero-stats mt-5 pt-4">
                        <div class="row">
                            <div class="col-4">
                                <div class="stat-item">
                                    <div class="stat-number">500+</div>
                                    <div class="stat-label">Happy Customers</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <div class="stat-number">50+</div>
                                    <div class="stat-label">Menu Items</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <div class="stat-number">15min</div>
                                    <div class="stat-label">Avg. Delivery</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="col-lg-6">
                <div class="hero-image-container">
                    <div class="hero-main-image">
                        <img src="{{ url_for('static', filename='images/food3.jpg') }}" alt="Gourmet Dish" class="img-fluid">
                    </div>
                    <div class="hero-decoration">
                        <div class="decoration-circle decoration-circle-1"></div>
                        <div class="decoration-circle decoration-circle-2"></div>
                        <div class="decoration-element"></div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>


<!-- Featured Dishes Section -->
<section id="featured-dishes" class="section-featured py-7 bg-light">
    <div class="container">
        <div class="section-header text-center mb-6">
            <div class="section-label mb-2">CHEF'S SELECTION</div>
            <h2 class="section-title mb-3">Featured Dishes</h2>
            <p class="section-subtitle text-muted">Handpicked creations that showcase our culinary excellence</p>
        </div>
        
        <div class="row g-4">
            {% for item in featured_items %}
            <div class="col-md-6 col-lg-4">
                <div class="dish-card">
                    <div class="dish-image-container">
                        <img src="{{ url_for('static', filename='images/menu/' ~ item.image_url) }}"
                             class="dish-image" alt="{{ item.name }}">
                        <div class="dish-price">â‚¦{{ "%.2f"|format(item.price) }}</div>
                        <!-- <div class="dish-overlay">
                            <form method="POST" action="{{ url_for('orders.add_to_cart') }}">
                                <input type="hidden" name="item_id" value="{{ item.id }}">
                                <input type="hidden" name="quantity" value="1">
                                <button type="submit" class="btn btn-primary btn-add-cart">
                                    <i class="fas fa-cart-plus me-2"></i> Add to Cart
                                </button>
                            </form>
                        </div> -->

                        <div class="dish-overlay">
                            {% if item.id in in_cart_ids %}
                              <a href="{{ url_for('orders.cart') }}" class="btn btn-success btn-add-cart">
                                <i class="fas fa-check me-2"></i> View Cart
                              </a>
                            {% else %}
                              <form method="POST" action="{{ url_for('orders.add_to_cart') }}" class="add-to-cart-form">
                                <input type="hidden" name="item_id" value="{{ item.id }}">
                                <input type="hidden" name="quantity" value="1">
                                <button type="submit" class="btn btn-primary btn-add-cart">
                                  <i class="fas fa-cart-plus me-2"></i> Add to Cart
                                </button>
                              </form>
                            {% endif %}
                          </div>

                    </div>
                    <div class="dish-content">
                        <h5 class="dish-title">{{ item.name }}</h5>
                        <p class="dish-description">{{ item.description[:120] }}{% if item.description|length > 120 %}...{% endif %}</p>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-6">
            <a href="{{ url_for('menu.menu') }}" class="btn btn-outline-primary btn-lg px-5">View Full Menu</a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="section-features py-7">
    <div class="container">
        <div class="row g-5">
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <div class="feature-icon-container mb-4">
                        <div class="feature-icon">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                    </div>
                    <h4 class="feature-title mb-3">Fast Delivery</h4>
                    <p class="feature-description">Quick and reliable delivery service to get your food to you while it's still hot and fresh.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <div class="feature-icon-container mb-4">
                        <div class="feature-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                    </div>
                    <h4 class="feature-title mb-3">Premium Ingredients</h4>
                    <p class="feature-description">We use only the freshest, highest quality ingredients in all our dishes.</p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card text-center">
                    <div class="feature-icon-container mb-4">
                        <div class="feature-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                    </div>
                    <h4 class="feature-title mb-3">Crafted with Passion</h4>
                    <p class="feature-description">Every dish is prepared with care and passion by our experienced chefs.</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<!-- <section class="section-cta py-7 bg-dark text-white">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2 class="cta-title mb-4">Have a party?</h2>
                <p class="cta-subtitle mb-5">We offer indoor and outdoor catering services.</p>
                <div class="d-flex flex-column flex-sm-row justify-content-center gap-3">
                    <a href="{{ url_for('main.contact') }}" class="btn btn-primary btn-lg px-5 py-3">Contact Us</a>
                </div>
            </div>
        </div>
    </div>
</section> -->

<section class="section-cta py-7 text-white">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2 class="cta-title mb-4">Have a party?</h2>
                <p class="cta-subtitle mb-5">We offer indoor and outdoor catering services.</p>
                <div class="d-flex flex-column flex-sm-row justify-content-center gap-3">
                    <a href="{{ url_for('main.contact') }}" class="btn btn-primary btn-lg px-5 py-3">Contact Us</a>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
    :root {
        --primary: #8B4513;
        --primary-light: #A0522D;
        --primary-dark: #654321;
        --accent: #D4AF37;
        --dark: #2C2C2C;
        --light: #F8F5F2;
        --gray: #6C757D;
    }
    
    body {
        font-family: 'Inter', sans-serif;
        color: var(--dark);
    }
    
    .min-vh-80 {
        min-height: 80vh;
    }
    
    /* Premium Hero Section */
    .premium-hero {
        background: linear-gradient(135deg, var(--light) 0%, #FFFFFF 100%);
        position: relative;
        overflow: hidden;
    }
    
    .premium-hero::before {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 40%;
        height: 100%;
        background: linear-gradient(135deg, rgba(139, 69, 19, 0.05) 0%, rgba(212, 175, 55, 0.05) 100%);
        z-index: 0;
    }
    
    .section-label {
        font-size: 0.875rem;
        font-weight: 600;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: var(--primary);
    }
    
    .hero-title {
        font-size: 3.5rem;
        font-weight: 700;
        line-height: 1.1;
        color: var(--primary);
    }
    
    .hero-subtitle {
        font-size: 1.25rem;
        line-height: 1.6;
        color: var(--gray);
        max-width: 90%;
    }
    
    .btn-primary {
        background-color: var(--primary);
        border-color: var(--primary);
        font-weight: 600;
        transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
        background-color: var(--primary-dark);
        border-color: var(--primary-dark);
        transform: translateY(-2px);
        box-shadow: 0 10px 20px rgba(139, 69, 19, 0.2);
    }
    
    .btn-outline-primary {
        color: var(--primary);
        border-color: var(--primary);
        font-weight: 600;
    }
    
    .btn-outline-primary:hover {
        background-color: var(--primary);
        border-color: var(--primary);
        transform: translateY(-2px);
    }
    
    .hero-stats {
        border-top: 1px solid rgba(0,0,0,0.1);
    }
    
    .stat-item {
        text-align: center;
    }
    
    .stat-number {
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--primary);
    }
    
    .stat-label {
        font-size: 0.875rem;
        color: var(--gray);
    }
    
    .hero-image-container {
        position: relative;
    }
    
    .hero-main-image {
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 25px 50px rgba(0,0,0,0.15);
        transform: perspective(1000px) rotateY(-5deg) rotateX(5deg);
        transition: transform 0.5s ease;
    }
    
    .hero-main-image:hover {
        transform: perspective(1000px) rotateY(0) rotateX(0);
    }
    
    .hero-main-image img {
        width: 100%;
        height: 500px;
        object-fit: cover;
    }
    
    .decoration-circle {
        position: absolute;
        border-radius: 50%;
        z-index: -1;
    }
    
    .decoration-circle-1 {
        width: 100px;
        height: 100px;
        background: var(--accent);
        opacity: 0.1;
        top: -20px;
        right: 50px;
    }
    
    .decoration-circle-2 {
        width: 150px;
        height: 150px;
        background: var(--primary);
        opacity: 0.05;
        bottom: -50px;
        left: -30px;
    }
    
    .decoration-element {
        position: absolute;
        width: 80px;
        height: 80px;
        border: 2px solid var(--accent);
        opacity: 0.3;
        bottom: 100px;
        right: -20px;
        transform: rotate(45deg);
    }
    
    /* Featured Dishes Section */
    .section-featured {
        position: relative;
    }
    
    .section-title {
        font-size: 2.5rem;
        font-weight: 700;
        color: var(--dark);
    }
    
    .section-subtitle {
        font-size: 1.125rem;
        max-width: 600px;
        margin: 0 auto;
    }
    
    .dish-card {
        background: #FFFFFF;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        transition: all 0.3s ease;
        height: 100%;
    }
    
    .dish-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0,0,0,0.15);
    }
    
    .dish-image-container {
        position: relative;
        overflow: hidden;
        height: 250px;
    }
    
    .dish-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s ease;
    }
    
    .dish-card:hover .dish-image {
        transform: scale(1.05);
    }
    
    .dish-price {
        position: absolute;
        top: 15px;
        right: 15px;
        background: var(--accent);
        color: white;
        padding: 5px 12px;
        border-radius: 20px;
        font-weight: 600;
        font-size: 0.9rem;
    }
    
    .dish-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    
    .dish-card:hover .dish-overlay {
        opacity: 1;
    }
    
    .btn-add-cart {
        background: var(--primary);
        border: none;
        padding: 10px 20px;
        border-radius: 30px;
        font-weight: 600;
    }
    
    .dish-content {
        padding: 25px;
    }
    
    .dish-title {
        font-size: 1.25rem;
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--dark);
    }
    
    .dish-description {
        color: var(--gray);
        line-height: 1.6;
    }
    
    /* Features Section */
    .section-features {
        background: #FFFFFF;
    }
    
    .feature-card {
        padding: 40px 30px;
        border-radius: 16px;
        transition: all 0.3s ease;
    }
    
    .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0,0,0,0.1);
    }
    
    .feature-icon-container {
        display: inline-block;
        position: relative;
    }
    
    .feature-icon {
        width: 80px;
        height: 80px;
        background: rgba(139, 69, 19, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.75rem;
        color: var(--primary);
        transition: all 0.3s ease;
    }
    
    .feature-card:hover .feature-icon {
        background: var(--primary);
        color: white;
        transform: scale(1.1);
    }
    
    .feature-title {
        font-size: 1.5rem;
        font-weight: 600;
        color: var(--dark);
    }
    
    .feature-description {
        color: var(--gray);
        line-height: 1.6;
    }
    
    /* CTA Section */
    /* .section-cta {
        background: linear-gradient(135deg, var(--dark) 0%, #1a1a1a 100%);
        background: "{{ url_for('static', filename='images/log.png') }}" no-repeat center center;
        position: relative;
        overflow: hidden;
    } */
    .section-cta {
        background-image: url("{{ url_for('static', filename='images/party.png') }}");
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        position: relative;
        z-index: 1;
    }
    
    /* .section-cta::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: "{{ url_for('static', filename='images/log.png') }}" no-repeat center center;
        opacity: 0.5;
    } */
    .section-cta::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0, 0, 0, 0.65);
        z-index: -1;
    }
    
    .cta-title {
        font-size: 2.5rem;
        font-weight: 700;
    }
    
    .cta-subtitle {
        font-size: 1.25rem;
        opacity: 0.8;
        max-width: 600px;
        margin: 0 auto;
    }
    
    /* Responsive adjustments */
    @media (max-width: 992px) {
        .hero-title {
            font-size: 2.5rem;
        }
        
        .premium-hero::before {
            width: 100%;
            height: 40%;
            top: auto;
            bottom: 0;
        }
    }
    
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2rem;
        }
        
        .hero-subtitle {
            font-size: 1.125rem;
        }
        
        .section-title, .cta-title {
            font-size: 2rem;
        }
        
        .hero-main-image {
            transform: none;
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
    document.body.addEventListener('submit', async (e) => {
      const form = e.target.closest('.add-to-cart-form');
      if (!form) return;
  
      e.preventDefault();                               // stop normal submit
      const data = new FormData(form);
      await fetch("{{ url_for('orders.add_to_cart') }}", {
        method: 'POST',
        body: data
      });
      location.reload();                               // or update DOM manually
    });
  });
</script>
{% endblock %}