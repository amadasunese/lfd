{% extends "base.html" %}

{% block content %}
<!-- =======================
     Hero Section
======================= -->
<section class="premium-hero py-6 py-lg-8">
    <div class="container">
        <div class="row align-items-center min-vh-80">
            <div class="col-lg-6 mb-5 mb-lg-0">
                <div class="hero-content text-center">
                    <div class="section-label mb-3">PREMIUM DINING EXPERIENCE</div>
                    <h1 class="hero-title mb-4 text-center">Lauracious Foodies Delight</h1>
                    <h4 class="feature-title mb-3">Where food speaks with your palate</h4>
                    <p class="hero-subtitle mb-5">
                        We make small chops and finger foods. Contact us for your soup/stew bowls and food boxes/trays
                    </p>
                    <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
                        <a href="{{ url_for('menu.menu') }}" class="btn btn-primary btn-lg px-5 py-3">Order Now</a>
                        <a href="#featured-dishes" class="btn btn-outline-primary btn-lg px-5 py-3">View Menu</a>
                    </div>
                    <div class="hero-stats mt-5 pt-4">
                        <div class="row">
                            <div class="col-4">
                                <div class="stat-item">
                                    <div class="stat-number">500+</div>
                                    <div class="stat-label">Happy Customers</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <div class="stat-number">50+</div>
                                    <div class="stat-label">Menu Items</div>
                                </div>
                            </div>
                            <div class="col-4">
                                <div class="stat-item">
                                    <div class="stat-number">15min</div>
                                    <div class="stat-label">Avg. Delivery</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="hero-image-container">
                    <div class="hero-main-image">
                        <img src="{{ url_for('static', filename='images/food3.jpg') }}"
                             alt="Gourmet Dish"
                             class="img-fluid"
                             loading="lazy"
                             decoding="async">
                    </div>
                    <div class="hero-decoration">
                        <div class="decoration-circle decoration-circle-1"></div>
                        <div class="decoration-circle decoration-circle-2"></div>
                        <div class="decoration-element"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- =======================
     Featured Dishes Section
======================= -->
<section id="featured-dishes" class="section-featured py-7 bg-light">
    <div class="container">
        <div class="section-header text-center mb-6">
            <div class="section-label mb-2">CHEF'S SELECTION</div>
            <h2 class="section-title mb-3">Featured Dishes</h2>
            <p class="section-subtitle text-muted">
                Handpicked creations that showcase our culinary excellence
            </p>
        </div>
        <div class="row g-4">
            {% for item in featured_items %}
            <div class="col-md-6 col-lg-4">
              
                
                <div class="dish-card">
                    <div class="dish-image-wrapper">
                        <img src="{{ url_for('static', filename='images/menu/' ~ item.image_url) }}"
                             alt="{{ item.name }}"
                             class="dish-image"
                             loading="lazy">
                
                        <span class="dish-price">â‚¦{{ "%.2f"|format(item.price) }}</span>
                    </div>
                
                    <div class="dish-body">
                        <h5 class="dish-title">{{ item.name }}</h5>
                        <p class="dish-description">{{ item.description[:120] }}{% if item.description|length > 120 %}...{% endif %}</p>
                
                        <!-- MOVED BUTTON TO BOTTOM -->
                        <div class="mt-auto pt-2 dish-actions">
                            {% if item.id in in_cart_ids %}
                                <a href="{{ url_for('orders.cart') }}" class="btn btn-success btn-w-100">
                                    <i class="fas fa-check me-2"></i> View Cart
                                </a>
                            {% else %}
                                <form method="POST" 
                                      action="{{ url_for('orders.add_to_cart') }}" 
                                      class="add-to-cart-form w-100">
                                    <input type="hidden" name="item_id" value="{{ item.id }}">
                                    <input type="hidden" name="quantity" value="1">
                                    <button type="submit" class="btn btn-primary btn-w-100">
                                        <i class="fas fa-cart-plus me-2"></i> Add to Cart
                                    </button>
                                </form>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-6">
            <a href="{{ url_for('menu.menu') }}" class="btn btn-outline-primary btn-lg px-5">View Full Menu</a>
        </div>
    </div>
</section>

<!-- =======================
     Features Section
======================= -->
<section class="section-features py-7">
    <div class="container">
        <div class="row g-5">
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon-container mb-4">
                        <div class="feature-icon"><i class="fas fa-shipping-fast"></i></div>
                    </div>
                    <h4 class="feature-title mb-3">Fast Delivery</h4>
                    <p class="feature-description">
                        Quick and reliable delivery service to get your food to you while it's still hot and fresh.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon-container mb-4">
                        <div class="feature-icon"><i class="fas fa-leaf"></i></div>
                    </div>
                    <h4 class="feature-title mb-3">Premium Ingredients</h4>
                    <p class="feature-description">
                        We use only the freshest, highest quality ingredients in all our dishes.
                    </p>
                </div>
            </div>
            <div class="col-md-4">
                <div class="feature-card">
                    <div class="feature-icon-container mb-4">
                        <div class="feature-icon"><i class="fas fa-heart"></i></div>
                    </div>
                    <h4 class="feature-title mb-3">Crafted with Passion</h4>
                    <p class="feature-description">
                        Every dish is prepared with care and passion by our experienced chefs.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- =======================
     CTA Section
======================= -->
<section class="section-cta py-7 text-white">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h2 class="cta-title mb-4">Have a party?</h2>
                <p class="cta-subtitle mb-5">We offer indoor and outdoor catering services.</p>
                <div class="d-flex flex-column flex-sm-row justify-content-center gap-3">
                    <a href="{{ url_for('main.contact') }}" class="btn btn-primary btn-lg px-5 py-3">Contact Us</a>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- =======================
     Custom CSS
======================= -->
<style>
:root {
    --primary: #8B4513;
    --primary-light: #A0522D;
    --primary-dark: #654321;
    --accent: #D4AF37;
    --dark: #2C2C2C;
    --light: #F8F5F2;
    --gray: #6C757D;
}

body {
    font-family: 'Inter', sans-serif;
    color: var(--dark);
}

.premium-hero {
    background: linear-gradient(135deg, var(--light) 0%, #FFFFFF 100%);
    position: relative;
    overflow: hidden;
}
.min-vh-80 { min-height: 80vh; }
.hero-title, .hero-subtitle, .section-label {
    animation: fadeInUp 1s ease forwards;
}
.hero-subtitle {
    max-width: 90%;
    color: var(--gray);
    margin-inline: auto;
}
.hero-stats {
    border-top: 1px solid rgba(0,0,0,0.1);
}

.dish-card {
    background: #fff;
    border-radius: 18px;
    overflow: hidden;
    box-shadow: 0 4px 14px rgba(0,0,0,0.06);
    transition: transform .15s ease, box-shadow .15s ease;
    height: 100%;
    display: flex;
    flex-direction: column;
}

.dish-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 28px rgba(0,0,0,0.08);
}

.dish-image-wrapper {
    position: relative;
    height: 220px;
    overflow: hidden;
}

.dish-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform .3s ease;
}

.dish-card:hover .dish-image {
    transform: scale(1.05);
}

.dish-price {
    position: absolute;
    top: 12px;
    right: 12px;
    background: var(--accent, #D4AF37);
    color: #fff;
    padding: 6px 14px;
    border-radius: 50px;
    font-weight: 600;
    font-size: .9rem;
    box-shadow: 0 3px 10px rgba(0,0,0,0.2);
}

.dish-body {
    padding: 20px 22px;
    flex: 1;
    display: flex;
    flex-direction: column;
}

.dish-title {
    font-size: 1.18rem;
    font-weight: 700;
    margin-bottom: 6px;
    color: #2c2c2c;
}

.dish-description {
    font-size: .94rem;
    color: #6C757D;
    flex-grow: 1;
    line-height: 1.5;
}

.dish-actions {
    margin-top: 15px;
    width: 100%;
}

.btn-w-100 {
    width: 100%;
    padding: 10px 0;
    border-radius: 8px;
    font-weight: 600;
}

.btn-primary {
    background: var(--primary, #8B4513);
    border: none;
}

.btn-primary:hover {
    background: var(--primary-dark, #654321);
}

.btn-success {
    background: #28a745;
}

@media (max-width: 768px) {
    .dish-image-wrapper {
        height: 180px;
    }
    .dish-card {
        border-radius: 14px;
    }
}

.feature-card {
    padding: 40px 30px;
    border-radius: 16px;
    /* opacity: 0; */
    transform: translateY(20px);
    transition: all 0.6s ease;
}

.feature-card.visible {
    opacity: 1;
    transform: translateY(0);
}
.feature-icon {
    width: 80px;
    height: 80px;
    background: rgba(139,69,19,0.1);
    border-radius: 50%;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:1.75rem;
    color: var(--primary);
    transition: all 0.3s ease;
}
.feature-card:hover .feature-icon {
    background: var(--primary);
    color: #fff;
    transform: scale(1.1);
}

.section-cta {
    background-image: url("{{ url_for('static', filename='images/party.png') }}");
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    position: relative;
    z-index:1;
}
.section-cta::before {
    content:"";
    position:absolute;
    inset:0;
    background: rgba(0,0,0,0.65);
    z-index:-1;
}
.cta-title {
    font-size: 2.5rem;
    font-weight: 700;
}
.cta-subtitle {
    font-size:1.25rem;
    opacity:0.8;
    max-width:600px;
    margin:0 auto;
}
.section-cta .btn-primary:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 10px 20px rgba(0,0,0,0.3);
}

@keyframes cartPulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.15); }
    100% { transform: scale(1); }
}
.cart-count.cart-pulse {
    animation: cartPulse 0.3s ease;
}

@keyframes fadeInUp {
    0% { opacity:0; transform:translateY(20px); }
    100% { opacity:1; transform:translateY(0); }
}

@media (max-width: 992px) {
    .hero-title { font-size:2.5rem; }
}
@media (max-width: 768px) {
    .hero-title { font-size:2rem; }
    .section-title, .cta-title { font-size:2rem; }
}

.dish-actions,
.dish-actions button,
.dish-actions a,
.dish-actions form {
    opacity: 1 !important;
    position: static !important;
    transform: none !important;
    visibility: visible !important;
    display: block !important;
    margin-top: 15px !important;
}
</style>
{% endblock %}
